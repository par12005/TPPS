<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Tripal Plant PopGen Submit: /var/www/html/sites/all/modules/TGDR/api/tpps.submission.api.inc File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Tripal Plant PopGen Submit
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('tpps_8submission_8api_8inc.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tpps.submission.api.inc File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="tpps_8submission_8api_8inc_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab892da260bbbdd220ea91b7a40e79666"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tpps_8submission_8api_8inc.html#ab892da260bbbdd220ea91b7a40e79666">tpps_api_submission_info</a> ()</td></tr>
<tr class="separator:ab892da260bbbdd220ea91b7a40e79666"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a142b311782db1fb66019082136f54370"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tpps_8submission_8api_8inc.html#a142b311782db1fb66019082136f54370">tpps_api_submission_query</a> ()</td></tr>
<tr class="separator:a142b311782db1fb66019082136f54370"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01e793e7bde7fa596b313378df25ef2c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tpps_8submission_8api_8inc.html#a01e793e7bde7fa596b313378df25ef2c">tpps_api_submission_std_query</a> (array &amp;$conditions)</td></tr>
<tr class="separator:a01e793e7bde7fa596b313378df25ef2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Defines TPPS API functions for submission-related operations. </p>

<p>Definition in file <a class="el" href="tpps_8submission_8api_8inc_source.html">tpps.submission.api.inc</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ab892da260bbbdd220ea91b7a40e79666"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tpps_api_submission_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns information about submissions based on provided accessions.</p>
<p>This function will return data and possibly Tripal Entities for TPPS submissions based on provided accessions and data requests. Possible data that can be retrieved using this function includes: project publication author organism design stock phenotype genotype stats By default, the function will simply return the database ids of the associated data, but if the entities parameter is provided and set to true, the function will instead return Tripal Entites of associated data if possible. Data options that currently support Tripal Entities include: project publication organism stock genotype For example, to retrieve the database ids of the authors and species associated with a TPPS submission, you could call submission_info?accessions=TGDR001&amp;data=author,organism If you instead want to return the Tripal Entities for the species, call submission_info?accessions=TGDR001&amp;data=author,organism&amp;entities=TRUE The returned information is sorted by data type, and if entities are both requested and valid, then the information for that data type will be indexed by Tripal Entity id.</p>
<dl class="section return"><dt>Returns</dt><dd>array An array of information about the specified TPPS Submissions. </dd></dl>

<p>Definition at line <a class="el" href="tpps_8submission_8api_8inc_source.html#l00171">171</a> of file <a class="el" href="tpps_8submission_8api_8inc_source.html">tpps.submission.api.inc</a>.</p>
<div class="fragment"><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                                    {</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  $params = drupal_get_query_parameters();</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;accessions&#39;</span>])) {</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;  }</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="keywordflow">if</span> (empty($params[<span class="stringliteral">&#39;data&#39;</span>])) {</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  }</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  $entities = FALSE;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  <span class="keywordflow">if</span> (array_key_exists(<span class="stringliteral">&#39;entities&#39;</span>, $params)) {</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    $entities = $params[<span class="stringliteral">&#39;entities&#39;</span>];</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  }</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;  $accessions = explode(<span class="charliteral">&#39;,&#39;</span>, $params[<span class="stringliteral">&#39;accessions&#39;</span>]);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;  $states = <a class="code" href="submissions_8inc.html#a67f98c19acc21d584dac24d49a085530">tpps_load_submission_multiple</a>(array(<span class="stringliteral">&#39;accession&#39;</span> =&gt; $accessions));</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  $pids = array();</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordflow">foreach</span> ($states as $state) {</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    $pids[] = $state[<span class="stringliteral">&#39;ids&#39;</span>][<span class="stringliteral">&#39;project_id&#39;</span>];</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  }</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  $data_types = explode(<span class="charliteral">&#39;,&#39;</span>, $params[<span class="stringliteral">&#39;data&#39;</span>]);</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  $results = array();</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">foreach</span> ($data_types as $type) {</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    $function_name = <span class="stringliteral">&quot;tpps_api_project_{$type}_query&quot;</span>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">if</span> ($type == <span class="stringliteral">&#39;project&#39;</span>) {</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;      $function_name = <span class="stringliteral">&quot;tpps_api_project_query&quot;</span>;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    }</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <span class="keywordflow">if</span> ($type == <span class="stringliteral">&#39;stats&#39;</span>) {</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;      $results[$type] = $function_name($states);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    }</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">if</span> (!function_exists($function_name)) {</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keywordflow">return</span> NULL;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    }</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    $results[$type] = $function_name($pids, $entities);</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  }</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;  <span class="keywordflow">return</span> $results;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;}</div><div class="ttc" id="submissions_8inc_html_a67f98c19acc21d584dac24d49a085530"><div class="ttname"><a href="submissions_8inc.html#a67f98c19acc21d584dac24d49a085530">tpps_load_submission_multiple</a></div><div class="ttdeci">tpps_load_submission_multiple(array $conditions=array(), $state=TRUE)</div><div class="ttdef"><b>Definition:</b> <a href="submissions_8inc_source.html#l00085">submissions.inc:85</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a142b311782db1fb66019082136f54370"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tpps_api_submission_query </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns information about TPPS submissions satisfying provided conditions.</p>
<p>This function first calls the tpps_api_submission_std_query function with the provided conditions, then filters the list of submissions using the various tpps_api_*_pid_query functions if there are remaining unused conditions. The supported standard query conditions include: accession number tpps_submission table record id submission uid submisison status submission dbxref_id submission state Supported additional query conditions include: author organism organization The default database comparison operator is '~*', but different operators can be specified using square brackets. For example, calling submission?organization=University would produce a condition like WHERE name ~* 'University' but calling submission?organization=University[LIKE] would produce a condition like WHERE name LIKE 'University'</p>
<dl class="section return"><dt>Returns</dt><dd>array An array of information about submissions that satisfy the conditions. </dd></dl>

<p>Definition at line <a class="el" href="tpps_8submission_8api_8inc_source.html#l00038">38</a> of file <a class="el" href="tpps_8submission_8api_8inc_source.html">tpps.submission.api.inc</a>.</p>
<div class="fragment"><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;                                     {</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  $conditions = drupal_get_query_parameters();</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  $submissions = <a class="code" href="tpps_8submission_8api_8inc.html#a01e793e7bde7fa596b313378df25ef2c">tpps_api_submission_std_query</a>($conditions);</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keywordflow">if</span> (!empty($conditions)) {</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">foreach</span> ($conditions as $key =&gt; $val) {</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;      $pids = array();</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;      $vals = explode(<span class="charliteral">&#39;,&#39;</span>, $val);</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;      $function_name = <span class="stringliteral">&quot;tpps_api_{$key}_pid_query&quot;</span>;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;      <span class="keywordflow">if</span> (!function_exists($function_name)) {</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="keywordflow">return</span> array();</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;      }</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;      $query = $function_name($vals);</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;      <span class="keywordflow">while</span> (($result = $query-&gt;fetchObject())) {</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        $pids[] = $result-&gt;project_id;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;      }</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      <span class="keywordflow">if</span> (empty($pids)) {</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordflow">return</span> array();</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;      }</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      <span class="keywordflow">foreach</span> ($submissions as $num =&gt; $state) {</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="keywordflow">if</span> (array_search($state[<span class="stringliteral">&#39;ids&#39;</span>][<span class="stringliteral">&#39;project_id&#39;</span>], $pids) === FALSE) {</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;          unset($submissions[$num]);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        }</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      }</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    }</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  }</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  $results = array();</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordflow">foreach</span> ($submissions as $submission) {</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    $results[] = array(</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;      <span class="stringliteral">&#39;accession&#39;</span> =&gt; $submission[<span class="stringliteral">&#39;accession&#39;</span>],</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      <span class="stringliteral">&#39;data&#39;</span> =&gt; $submission[<span class="stringliteral">&#39;saved_values&#39;</span>],</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      <span class="stringliteral">&#39;dbxref_id&#39;</span> =&gt; $submission[<span class="stringliteral">&#39;dbxref_id&#39;</span>],</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      <span class="stringliteral">&#39;file_info&#39;</span> =&gt; $submission[<span class="stringliteral">&#39;file_info&#39;</span>] ?? NULL,</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;      <span class="stringliteral">&#39;file_rank&#39;</span> =&gt; $submission[<span class="stringliteral">&#39;file_rank&#39;</span>] ?? NULL,</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      <span class="stringliteral">&#39;ids&#39;</span> =&gt; $submission[<span class="stringliteral">&#39;ids&#39;</span>] ?? NULL,</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;      <span class="stringliteral">&#39;job_id&#39;</span> =&gt; $submission[<span class="stringliteral">&#39;job_id&#39;</span>] ?? NULL,</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      <span class="stringliteral">&#39;stage&#39;</span> =&gt; $submission[<span class="stringliteral">&#39;stage&#39;</span>],</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      <span class="stringliteral">&#39;stats&#39;</span> =&gt; $submission[<span class="stringliteral">&#39;stats&#39;</span>] ?? NULL,</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <span class="stringliteral">&#39;status&#39;</span> =&gt; $submission[<span class="stringliteral">&#39;status&#39;</span>],</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;      <span class="stringliteral">&#39;submitting_uid&#39;</span> =&gt; $submission[<span class="stringliteral">&#39;submitting_uid&#39;</span>] ?? NULL,</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;      <span class="stringliteral">&#39;tpps_type&#39;</span> =&gt; $submission[<span class="stringliteral">&#39;tpps_type&#39;</span>] ?? NULL,</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    );</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  }</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="keywordflow">return</span> $results;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}</div><div class="ttc" id="tpps_8submission_8api_8inc_html_a01e793e7bde7fa596b313378df25ef2c"><div class="ttname"><a href="tpps_8submission_8api_8inc.html#a01e793e7bde7fa596b313378df25ef2c">tpps_api_submission_std_query</a></div><div class="ttdeci">tpps_api_submission_std_query(array &amp;$conditions)</div><div class="ttdef"><b>Definition:</b> <a href="tpps_8submission_8api_8inc_source.html#l00114">tpps.submission.api.inc:114</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a01e793e7bde7fa596b313378df25ef2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tpps_api_submission_std_query </td>
          <td>(</td>
          <td class="paramtype">array &amp;&#160;</td>
          <td class="paramname"><em>$conditions</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Performs the initial TPPS submission standard query.</p>
<p>This function filters submissions by conditions that match columns in the tpps_submission table. These columns include: tpps_submission_id accession uid status dbxref_id submission_state The function will also unset items in the conditions array that have already been used, so that the tpps_api_submission_query function knows whether to perform additional query filtering. If no conditions in the conditions array match the columns of the tpps_submission table, this function will simply return all TPPS submissions found in the table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$conditions</td><td>The conditions to filter the submission query by.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>array An array of submissions that satisfy the provided conditions. </dd></dl>

<p>Definition at line <a class="el" href="tpps_8submission_8api_8inc_source.html#l00114">114</a> of file <a class="el" href="tpps_8submission_8api_8inc_source.html">tpps.submission.api.inc</a>.</p>
<div class="fragment"><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                                                           {</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  $args = array();</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  $valid_args = <a class="code" href="chado__utils_8inc.html#a68e5adbe9c2c69f23984f87909fe08b1">tpps_table_columns</a>(<span class="stringliteral">&#39;tpps_submission&#39;</span>);</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  <span class="keywordflow">foreach</span> ($conditions as $key =&gt; $val) {</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">if</span> (array_search($key, $valid_args)) {</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;      $args[$key] = explode(<span class="charliteral">&#39;,&#39;</span>, $val);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;      unset($conditions[$key]);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    }</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  }</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  $states = <a class="code" href="submissions_8inc.html#a67f98c19acc21d584dac24d49a085530">tpps_load_submission_multiple</a>($args);</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  $results = array();</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  <span class="keywordflow">foreach</span> ($states as $state) {</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">if</span> (!isset($state[<span class="stringliteral">&#39;ids&#39;</span>][<span class="stringliteral">&#39;project_id&#39;</span>])) {</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    }</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    $results[$state[<span class="stringliteral">&#39;ids&#39;</span>][<span class="stringliteral">&#39;project_id&#39;</span>]] = $state;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  }</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  <span class="keywordflow">return</span> $results;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div><div class="ttc" id="submissions_8inc_html_a67f98c19acc21d584dac24d49a085530"><div class="ttname"><a href="submissions_8inc.html#a67f98c19acc21d584dac24d49a085530">tpps_load_submission_multiple</a></div><div class="ttdeci">tpps_load_submission_multiple(array $conditions=array(), $state=TRUE)</div><div class="ttdef"><b>Definition:</b> <a href="submissions_8inc_source.html#l00085">submissions.inc:85</a></div></div>
<div class="ttc" id="chado__utils_8inc_html_a68e5adbe9c2c69f23984f87909fe08b1"><div class="ttname"><a href="chado__utils_8inc.html#a68e5adbe9c2c69f23984f87909fe08b1">tpps_table_columns</a></div><div class="ttdeci">tpps_table_columns($table)</div><div class="ttdef"><b>Definition:</b> <a href="chado__utils_8inc_source.html#l00458">chado_utils.inc:458</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_0188a3e6da905bc60aceb35bf790b8c9.html">api</a></li><li class="navelem"><a class="el" href="tpps_8submission_8api_8inc.html">tpps.submission.api.inc</a></li>
    <li class="footer">Generated on Tue Aug 17 2021 13:51:57 for Tripal Plant PopGen Submit by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
